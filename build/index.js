!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).jsnview=n()}(this,(function(){"use strict";function e(e){return null!==e&&"Object"===e.constructor.name}function n(e,n){let t=document.createElement("span");return t.textContent=e,t.classList.add(n),t}return function(t,{displayItemsLen:l=!0,displayTypes:s=!0}={}){let d=l,i=s,a=document.createElement("ul");if(a.classList.add("jsv","p-0","m-0"),Array.isArray(t)){const e=document.createElement("ul");t.forEach((n=>{u(e,n,null)}));let n=document.createElement("li");n.prepend(o("[",null,null,e.children.length)),n.appendChild(e),n.appendChild(o(null,"]",null)),a.appendChild(n)}else u(a,t,null);function o(e,t,l,s=0){let i=document.createElement("span");if(e){if(i.classList.add("jsv-fold"),i.textContent=(l?`"${l}": `:"")+e,d){let e=n(s+" items","jsv-items-len");i.appendChild(e)}}else i.classList.add("jsv-fold-end"),i.innerHTML=t;return i}function c(e,n,t){const l=document.createElement("ul");n.forEach((e=>{r(l,e,null)}));const s=document.createElement("li");s.appendChild(o("[",null,t,l.children.length)),s.appendChild(l),s.appendChild(o(null,"]",t)),e.appendChild(s)}function r(t,l,s){if(Array.isArray(l)&&c(t,l,null),e(l)&&u(t,l,null),!e(l)&&!Array.isArray(l)){let e=function(e){return Number(e)===e&&e%1!=0?"float":{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}(l),d=n("string"===e?`"${l}"`:l,"txt-"+e);if(i){let t=n(i?` (${e})`:"","txt-span-vtype");d.appendChild(t)}let a=document.createElement("li");a.textContent=s?`"${s}": `:"",a.appendChild(d),t.appendChild(a)}}function u(n,t,l){const s=document.createElement("ul");for(let[n,l]of Object.entries(t))e(l)||Array.isArray(l)||r(s,l,n),Array.isArray(l)&&c(s,l,n),e(l)&&u(s,l,n);const d=document.createElement("li");d.appendChild(o("{",null,l,s.children.length)),d.appendChild(s),d.appendChild(o(null,"}",null)),n.appendChild(d)}return a.addEventListener("click",(e=>{let n=e.target,t=n.parentNode;if("LI"===t.nodeName&&n.classList.contains("jsv-fold")){let e=n.classList.contains("jsv-fold-close");for(let n of t.children)n.classList.contains("jsv-fold")||n.classList.contains("jsv-fold-end")||(n.style.display=e?"block":"none");n.classList.toggle("jsv-fold-close")}}),!1),a}}));
