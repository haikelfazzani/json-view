!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).jsnview=n()}(this,(function(){"use strict";function e(e){return e&&"object"==typeof e&&"Object"===e.constructor.name}function n(e,n){let t=document.createElement("span");return t.textContent=e,t.classList.add(n),t}return function(t,{displayItemsLen:l=!0,displayTypes:i=!0}={}){let d=l,s=i,o=document.createElement("ul");if(o.classList.add("jsv","p-0","m-0"),Array.isArray(t)){let e=document.createElement("ul");t.forEach((n=>{u(e,n,null)}));let n=document.createElement("li");n.prepend(a("[",null,null,e.children.length)),n.appendChild(e),n.appendChild(a(null,"]",null)),o.appendChild(n)}else u(o,t,null);function a(e,t,l,i=0){let s=document.createElement("span");if(e){if(s.classList.add("jsv-fold"),s.textContent=(l?`"${l}": `:"")+e,d){let e=n(i+" items","jsv-items-len");s.appendChild(e)}}else s.classList.add("jsv-fold-end"),s.innerHTML=t;return s}function c(e,n,t){const l=document.createElement("ul");for(let e=0;e<n.length;e++){r(l,n[e],null)}const i=document.createElement("li");i.appendChild(a("[",null,t,l.children.length)),i.appendChild(l),i.appendChild(a(null,"]",t)),e.appendChild(i)}function r(t,l,i){if(Array.isArray(l)&&c(t,l,null),e(l)&&u(t,l,null),!e(l)&&!Array.isArray(l)){let e=function(e){return Number(e)===e&&e%1!=0?"float":{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}(l);l="boolean"==typeof l?l:l||e;let d=n("string"===e?`"${l}"`:l,"txt-"+e);if(s){let t=n(s?` (${e})`:"","txt-span-vtype");d.appendChild(t)}let o=document.createElement("li");o.textContent=i?`"${i}": `:"",o.appendChild(d),t.appendChild(o)}}function u(n,t,l){const i=document.createElement("ul");for(let[n,l]of Object.entries(t))e(l)||Array.isArray(l)||r(i,l,n),Array.isArray(l)&&c(i,l,n),e(l)&&u(i,l,n);const d=document.createElement("li");d.appendChild(a("{",null,l,i.children.length)),d.appendChild(i),d.appendChild(a(null,"}",null)),n.appendChild(d)}return o.addEventListener("click",(function(e){let n=e.target,t=n.parentNode;if("LI"===t.nodeName&&n.classList.contains("jsv-fold")){let e=n.classList.contains("jsv-fold-close");for(let n of t.children)n.classList.contains("jsv-fold")||n.classList.contains("jsv-fold-end")||(n.style.display=e?"block":"none");n.classList.toggle("jsv-fold-close")}}),!1),o}}));
